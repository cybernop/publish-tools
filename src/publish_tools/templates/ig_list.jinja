<html>

<head>
    <title>{{ title }}</title>
    <style>
        body {
            font-family: verdana;
            font-size: 12px;
            width: 100%;
            word-wrap: break-word;
        }

        table {
            max-width: 100%;
            background-color: transparent;
            border-spacing: 0;
        }

        tr {
            text-align: left;
        }

        table.history-grid {
            font-size: 12px;
            margin-bottom: 10px;
            border: 1px solid silver;
        }

        table.history-grid th {
            border: 1px solid silver;
            padding: 3px;
        }

        table.history-grid td {
            border: 1px solid silver;
            padding: 3px;
        }

        table.history-grid tr.sequence {
            background-color: #f9f9f9;
            font-weight: bold;
        }

        thead {
            background-color: #efefef;
        }
    </style>
</head>

<body>
    {% for topic, sequences in topics.items() | sort %}
    <h1>{{ topic }}</h1>

    <table class="history-grid">
        <thead>
            <tr>
                <th width="100px">IG</th>
                <th width="100px">IG Version</th>
                <th width="100px">FHIR Version</th>
                <th width="100px">Description</th>
            </tr>
        </thead>
        <tbody>
            {% for sequence, editions in sequences.items() | sort(reverse=True) %}
            <tr class="sequence">
                <td colspan="4">{{ sequence }}</td>
            </tr>
            {% for edition in editions | sort(attribute="name") %}
            <tr>
                <td><a href="{{ edition.url }}">{{ edition.name }}</a></td>
                <td><a href="{{ edition.url }}">{{ edition.ig_version }}</a></td>
                <td>{{ ", ".join(edition.fhir_version) }}</td>
                <td>{{ edition.description }}</td>
            </tr>
            {% endfor %}
            {% endfor %}
        </tbody>
    </table>
    {% endfor %}
</body>

</html>
